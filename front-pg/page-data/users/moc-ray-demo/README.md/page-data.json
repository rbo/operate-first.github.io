{"componentChunkName":"component---src-templates-markdown-js","path":"/users/moc-ray-demo/README.md","result":{"data":{"site":{"siteMetadata":{"title":"Operate First"}},"markdownRemark":{"id":"d363bbc1-3b45-596c-966e-9b74c9562827","html":"<h1 id=\"moc-ray-demo\" style=\"position:relative;\"><a href=\"#moc-ray-demo\" aria-label=\"moc ray demo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>moc-ray-demo</h1>\n<p>A demonstration of using the Ray distributed computing platform with Jupyter on Open Data Hub.</p>\n<h4 id=\"prerequisites\" style=\"position:relative;\"><a href=\"#prerequisites\" aria-label=\"prerequisites permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisites</h4>\n<p>Running Ray with Jupyter on Open Data Hub assumes you have a working Ray+ODH integration, as described in this\n<a href=\"https://github.com/erikerlandson/ray-odh-demo\">ray-odh-demo</a>.</p>\n<p>The Open Data Hub running on the\n<a href=\"https://www.operate-first.cloud/users/support/\">Massachussets Open Cloud</a>\ncurrently supports Ray on ODH.</p>\n<h4 id=\"to-run-the-test-notebook\" style=\"position:relative;\"><a href=\"#to-run-the-test-notebook\" aria-label=\"to run the test notebook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>To run the test notebook:</h4>\n<p>This “smoke-test” notebook shows how to connect to a ray cluster from jupyter in ODH,\nand run a basic computation.</p>\n<ol class=\"pf-c-list\">\n<li>Log into the ODH JupyterHub launcher. You should see a ray-enabled notebook image option such as <code class=\"language-text\">ray-ml-notebook</code>: choose this.</li>\n<li>In the environment variable section, add <code class=\"language-text\">JUPYTER_PRELOAD_REPOS</code> and set to <code class=\"language-text\">https://github.com/erikerlandson/moc-ray-demo.git</code></li>\n<li>Launch your JupyterHub environment. As part of the startup process, the ODH JupyterHub launcher should also start up a Ray cluster.</li>\n<li>In Jupyter, navigate to directory <code class=\"language-text\">moc-ray-demo.git/source</code> and open the “smoke-test” notebook.</li>\n<li>Run the notebook cells to confirm that it connects to your ray cluster and operates correctly.</li>\n<li>If the connection to the Ray cluster results in a timeout, wait a minute and re-try.</li>\n</ol>\n<p>Caveat: The demo function in this test notebook reports the names of the ray cluster nodes it used to compute.\nThe Ray operator adaptively scales the clusters it is managing based on workload.\nWhen running the demo function, it may not use all available nodes depending on how many were spun up at the time,\nand how long it took to run its computations.\nRepeatedly running the test frequently causes more nodes to report in the result.</p>\n<h4 id=\"doing-ml-with-ray-and-jupyter\" style=\"position:relative;\"><a href=\"#doing-ml-with-ray-and-jupyter\" aria-label=\"doing ml with ray and jupyter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Doing ML with Ray and Jupyter</h4>\n<p>I will be adding a demonstration of basic ML workloads, using ray and jupyter notebooks, to this section soon.</p>\n<h4 id=\"caveats-and-limitations\" style=\"position:relative;\"><a href=\"#caveats-and-limitations\" aria-label=\"caveats and limitations permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Caveats and Limitations</h4>\n<ol class=\"pf-c-list\">\n<li>Ray support for Jupyter and ODH is currently experimental, and based on pre-release development versions of Ray 2.0</li>\n<li>Currently a hard maximum of 5 Ray worker nodes is configured.</li>\n<li>Ray nodes are configured for 1 CPU and 1 GiB of RAM.</li>\n</ol>","fields":{"srcLink":"https://github.com/erikerlandson/moc-ray-demo/blob/master/README.md"},"frontmatter":{"title":"","description":null,"extraClasses":null}}},"pageContext":{"id":"d363bbc1-3b45-596c-966e-9b74c9562827"}},"staticQueryHashes":["117426894","3000541721","3606484676","533861647"]}